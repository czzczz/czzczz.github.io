# Vue 中绑定 key 的作用

`key是给每一个vnode的唯一id,可以依靠key,更准确, 更快的拿到oldVnode中对应的vnode节点。`

vue 和 react 都是采用 diff 算法来对比新旧虚拟节点，从而更新节点。在 vue 的 diff 函数中交叉对比中，当新节点跟旧节点头尾交叉对比没有结果时，会`根据新节点的key去对比旧节点数组中的key`，从而找到相应旧节点（这里对应的是一个 key => index 的 map 映射）。如果没找到就认为是一个新增节点。而如果没有 key，那么就会采用遍历查找的方式去找到对应的旧节点。一种一个 map 映射，另一种是遍历查找。相比而言。map 映射的速度更快。

1. key 使得新旧 vdom 树的对比更准确。因为带 key 就不是就地复用了，在 sameNode 函数 a.key === b.key 对比中可以避免就地复用的情况。所以会更加准确。
2. 对比更快。利用 key 的唯一性生成 map 对象来获取对应节点，比遍历方式更快。
