# JS 解构赋值

ES6 新语法

## 数组解构

```js
var a, b, rest;
[a, b] = [10, 20];
console.log(a); // 10
console.log(b); // 20

// 可以通过逗号跳过不需要的属性
[, b] = [30, 40];

// 可以给默认值
[a, b = 40] = [30];

// rest解构
[a, b, ...rest] = [10, 20, 30, 40, 50];
console.log(a); // 10
console.log(b); // 20
console.log(rest); // [30, 40, 50]
```

-   逗号跳过属性数量无限制
-   rest 解构右方不可再有逗号，即 rest 必须为最后一个元素

## 对象解构

```js
var { a, b } = { a: 42, b: true };

// 无声明赋值
var a, b;
({ a, b } = { a: 1, b: 2 });

// 变量重命名
var { a: d, b: e } = { a: 42, b: true };

// 变量默认值
var { a = 1, b = 2 } = {};

// 重命名并且给默认值
var { a: g = 3, c: f = 4 } = { a: 'a' };

// 嵌套解构
var { a: [b = 1] = [], c: { d = 5 } = {} } = {};

// 计算属性名解构重命名
let key = 'z';
let { [key]: foo } = { z: 'bar' };

// 对象的rest解构
let { a, b, ...rest } = { a: 10, b: 20, c: 30, d: 40 };
```

-   无声明赋值外侧的小括号不可省略，否则左式会被认为是代码块。
-   变量重命名后原名不可使用。
-   赋值的`默认值仅处理undefined`。
-   嵌套解构层级较深时须注意默认值问题，否则会因目标无法解构`如null`导致异常。
-   对象的 rest 解构（目前 stage 4），Rest 属性收集那些尚未被解构模式拾取的剩余可枚举属性键。
-   **对象的解构会查找原型链**
